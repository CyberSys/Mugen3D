local Enums = require "System/Enums"

local M = {}

--波动拳 轻 蓄力
M[1000] = {
	onEnter = function(_ENV)
	    MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.S)
		CtrlSet(false)
        ChangeAnim(1000)
        VelSet(0,0)
	end,
	onUpdate = function(_ENV)
	    if not CommandTest("holda") and not CommandTest("holdb") and not CommandTest("holdc") then
	   	    ChangeState(1005)
	   	end
	end,
}

--波动拳 释放
M[1005] = {
	onEnter = function(_ENV)
	    MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.S)
		CtrlSet(false)
        ChangeAnim(1005)
        VelSet(0,0)
	end,
	onUpdate = function(_ENV)
	    if LeftAnimTime() <= 0 then
	   	    ChangeState(0)
	   	end
	end,
}


--升龙拳 轻
M[1200] = {
	onEnter = function(_ENV)
		MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.S)
		CtrlSet(false)
        ChangeAnim(1200)
        --VelSet(5,0)
	end,
    onUpdate = function(_ENV)
    	VelSet(3,0)
    	if LeftAnimTime() <= 0 then
    		ChangeState(1205)
    	end
    end
}

M[1205] = {
    onEnter = function(_ENV)
    	MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.A)
		CtrlSet(false)
        ChangeAnim(1205)
        VelSet(1, 5)
    end,
    onUpdate = function(_ENV)
        if true then
            HitDefSet({
                id = 1201 + AnimElem(),
                hitType = Enums.HitType.KnockAway,
                knockAwayType = Enums.KnockAwayType.Type1,
                hitDamage = 10,
                hitPauseTime = {7, 13},
                hitSlideTime = 9,
                groundVel = {-1, 5},
                airVel = {-1, 5},

                guardDamage = 1,
                guardPauseTilme = {11, 13},
                guardSlideTime = 9,    
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end
}

--升龙拳 轻
M[1200] = {
	onEnter = function(_ENV)
		MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.S)
		CtrlSet(false)
        ChangeAnim(1200)
        --VelSet(5,0)
	end,
    onUpdate = function(_ENV)
    	VelSet(2,0)
    	if true then
            HitDefSet({
                id = 1200 + AnimElem(),
                hitType = Enums.HitType.KnockAway,
                knockAwayType = Enums.KnockAwayType.Type1,
                hitDamage = 10,
                hitPauseTime = {7, 7},
                hitSlideTime = 9,
                groundVel = {-1, 5},
                airVel = {-1, 5},

                guardDamage = 1,
                guardPauseTilme = {11, 13},
                guardSlideTime = 9,    
            })     
        end 
    	if LeftAnimTime() <= 0 then
    		ChangeState(1205)
    	end
    end
}

M[1205] = {
    onEnter = function(_ENV)
    	MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.A)
		CtrlSet(false)
        ChangeAnim(1205)
        VelSet(1, 5)
    end,
    onUpdate = function(_ENV)
        if true then
            HitDefSet({
                id = 1201 + AnimElem(),
                hitType = Enums.HitType.KnockAway,
                knockAwayType = Enums.KnockAwayType.Type1,
                hitDamage = 10,
                hitPauseTime = {7, 7},
                hitSlideTime = 9,
                groundVel = {-1, 5},
                airVel = {-1, 5},

                guardDamage = 1,
                guardPauseTilme = {11, 13},
                guardSlideTime = 9,    
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end
}

--升龙拳 重
M[1210] = {
	onEnter = function(_ENV)
		MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.S)
		CtrlSet(false)
        ChangeAnim(1210)
        --VelSet(5,0)
	end,
    onUpdate = function(_ENV)
    	VelSet(3,0)
    	if true then
            HitDefSet({
                id = 1210 + AnimElem(),
                hitType = Enums.HitType.KnockAway,
                knockAwayType = Enums.KnockAwayType.Type1,
                hitDamage = 10,
                hitPauseTime = {7, 7},
                hitSlideTime = 9,
                groundVel = {-1, 5},
                airVel = {-1, 5},

                guardDamage = 1,
                guardPauseTilme = {11, 13},
                guardSlideTime = 9,    
            })     
        end 
    	if LeftAnimTime() <= 0 then
    		ChangeState(1215)
    	end
    end
}

M[1215] = {
    onEnter = function(_ENV)
    	MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.A)
		CtrlSet(false)
        ChangeAnim(1215)
        VelSet(3, 6)
    end,
    onUpdate = function(_ENV)
        if true then
            HitDefSet({
                id = 1201 + AnimElem(),
                hitType = Enums.HitType.KnockAway,
                knockAwayType = Enums.KnockAwayType.Type1,
                hitDamage = 10,
                hitPauseTime = {7, 7},
                hitSlideTime = 9,
                groundVel = {-1, 5},
                airVel = {-1, 5},

                guardDamage = 1,
                guardPauseTilme = {11, 13},
                guardSlideTime = 9,    
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end
}

--旋风脚
M[1400] = {
	onEnter = function(_ENV)
		MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.S)
		CtrlSet(false)
        ChangeAnim(1400)
        VelSet(0, 0)
	end,
    onUpdate = function(_ENV)
    	if LeftAnimTime() <= 0 then
    		VelSet(3, 5.5)
    		ChangeState(1401)
    	end
    end
}

M[1401] = {
	onEnter = function(_ENV)
		MoveTypeSet(Enums.MoveType.A)
        PhysicsSet(Enums.PhysicsType.A)
		CtrlSet(false)
        ChangeAnim(1401)  
	end,
	onUpdate = function(_ENV)
	    if true then
            HitDefSet({
                id = 1401 + AnimElem(),
                hitType = Enums.HitType.KnockAway,
                knockAwayType = Enums.KnockAwayType.Type1,
                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-2, 5},
                airVel = {-2, 5},

                guardDamage = 1,
                guardPauseTilme = {11, 13},
                guardSlideTime = 9,    
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end
}

return M