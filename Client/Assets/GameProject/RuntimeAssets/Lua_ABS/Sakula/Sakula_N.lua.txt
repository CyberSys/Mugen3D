
local Enums = require "Lua_ABS/Enums"

local M = {}

M[200] = {
	onEnter = function(_ENV)
	   ChangeAnim(200)
	   PhysicsSet(Enums.PhysicsType.S)
	   CtrlSet(false)
	   MoveTypeSet(Enums.MoveType.A)
	end,
	onUpdate = function(_ENV)
        if AnimElem() == 2 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.High,
                forceLevel = Enums.ForceLevel.Light,
                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,  
                guardVel = {-4, 0},

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.2},

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })      
        end
	    if LeftAnimTime() == 0 then
			ChangeState(0)
		end
	end,
}

M[205] = {
    onEnter = function(_ENV)
       ChangeAnim(205)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Light,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,   
                guardVel = {-4, 0},  

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.2},   

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })      
        end
        if LeftAnimTime() == 0 then
            ChangeState(0)
        end
    end,
}

M[220] = {
    onEnter = function(_ENV)
       ChangeAnim(220)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Light,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,  
                guardVel = {-4, 0},

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 0.4},  

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(0)
        end
    end,
}

M[240] = {
    onEnter = function(_ENV)
       ChangeAnim(240)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 3 and AnimElemTime() == 0 then
            HitDefSet({
               hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,    
                guardVel = {-4, 0},    

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.2},  

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(0)
        end
    end,
}

M[245] = {
    onEnter = function(_ENV)
       ChangeAnim(245)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 2 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,    
                guardVel = {-4, 0},    

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.2},  

                hitSound = "Snd_HitLv2",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(0)
        end
    end,
}

M[260] = {
    onEnter = function(_ENV)
       ChangeAnim(260)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 3 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,   
                guardVel = {-4, 0},   

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1},    

                hitSound = "Snd_HitLv2",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(0)
        end
    end,
}

M[265] = {
    onEnter = function(_ENV)
       ChangeAnim(265)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 4 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,  
                guardVel = {-4, 0},      

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.2},  

                hitSound = "Snd_HitLv3",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(0)
        end
    end,
}

M[400] = {
    onEnter = function(_ENV)
       ChangeAnim(400)
       PhysicsSet(Enums.PhysicsType.C)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
               hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Light,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9, 
                guardVel = {-4, 0},     

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 0.8},    

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(11)
        end
    end,
}

M[420] = {
    onEnter = function(_ENV)
       ChangeAnim(420)
       PhysicsSet(Enums.PhysicsType.C)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Light,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,    
                guardVel = {-4, 0}, 

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 0.4}, 

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded",     
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(11)
        end
    end,
}

M[440] = {
    onEnter = function(_ENV)
       ChangeAnim(440)
       PhysicsSet(Enums.PhysicsType.C)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 2 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,    
                guardVel = {-4, 0},  

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1},    

                hitSound = "Snd_HitLv2",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(11)
        end
    end,
}

M[460] = {
    onEnter = function(_ENV)
       ChangeAnim(460)
       PhysicsSet(Enums.PhysicsType.C)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,

                hitType = Enums.HitType.Attack,
                knockAwayType = Enums.KnockAwayType.default,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-2, 2},
                airVel = {-2, 3},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,  
                guardVel = {-4, 0},     

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 0.4},   

                hitSound = "Snd_HitLv2",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if LeftAnimTime() == 0 then
            ChangeState(11)
        end
    end,
}

M[600] = {
    onEnter = function(_ENV)
       ChangeAnim(600)
       PhysicsSet(Enums.PhysicsType.A)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,

                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Light,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,
                guardVel = {-4, 0},

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.4},  

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end,
}

M[620] = {
    onEnter = function(_ENV)
       ChangeAnim(620)
       PhysicsSet(Enums.PhysicsType.A)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 1 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,

                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Light,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 9,
                groundVel = {-5, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 9,
                guardVel = {-4, 0},

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.4},  

                hitSound = "Snd_HitLv1",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end,
}

M[640] = {
    onEnter = function(_ENV)
       ChangeAnim(640)
       PhysicsSet(Enums.PhysicsType.A)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 2 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,

                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,
                guardVel = {-4, 0},

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.4},  

                hitSound = "Snd_HitLv2",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end,
}

M[660] = {
    onEnter = function(_ENV)
       ChangeAnim(660)
       PhysicsSet(Enums.PhysicsType.A)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if AnimElem() == 4 and AnimElemTime() == 0 then
            HitDefSet({
                hitFlag = Enums.HitFlag.HLAF,
                guardFlag = Enums.GuardFlag.HL,

                hitType = Enums.HitType.Attack,
                groundType = Enums.GroundType.Low,
                forceLevel = Enums.ForceLevel.Medium,

                hitDamage = 10,
                hitPauseTime = {11, 13},
                hitSlideTime = 16,
                groundVel = {-7, 0},
                airVel = {-2, 2},

                guardDamage = 1,
                guardPauseTime = {11, 13},
                guardSlideTime = 16,
                guardVel = {-4, 0},

                spark = "FXP_HitBallHit",
                guardSpark = "FXP_HitBallGuard",
                sparkPos = {0.2, 1.4},  

                hitSound = "Snd_HitLv2",
                guardSound = "Snd_HitGuarded", 
            })     
        end 
        if JustOnGround() then
            ChangeState(47)
        end
    end,
}

--throw
M[800] = {
    onEnter = function(_ENV)
       print("800 onEnter")
       ChangeAnim(800)
       PhysicsSet(Enums.PhysicsType.S)
       CtrlSet(false)
       MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if LeftAnimTime() <= 0 then
            ChangeState(0)
        end
        if AnimElem() == 0 and AnimElemTime() == 0 then
            
            HitDefSet({
                hitFlag = Enums.HitFlag.HL,
                guardFlag = Enums.GuardFlag.HL,
                hitType = Enums.HitType.Throw,
                p1StateNo = 801,
                p2StateNo = 802,   
            })  
           
        end 
    end
}

--throw success
M[801] = {
    onEnter = function(_ENV)
        ChangeAnim(801)
        PhysicsSet(Enums.PhysicsType.S)
        CtrlSet(false)
        MoveTypeSet(Enums.MoveType.A)
    end,
    onUpdate = function(_ENV)
        if LeftAnimTime() <= 0 then
            ChangeState(0)
            PosAdd(0.8, 0, 0)
        end 
        if AnimElem() == 0 then
            TargetBind(0.61, 0, 0)
        end
        if AnimElem() == 4 then
            TargetBind(0.61, 0, 0.5)
        end
        if AnimElem() == 9 then
            TargetBind(0.9, 0, 0.3)
        end
        if AnimElem() == 10 then
            TargetBind(1.1, 0, 0.3)
        end
        
    end
}

--be throwed 1
M[802] = {
    onEnter = function(_ENV)
        MoveTypeSet(Enums.MoveType.H)
        PhysicsSet(Enums.PhysicsType.N)
        ChangeAnim(802)
    end,
    onUpdate = function(_ENV)
        if LeftAnimTime() <= 0 then
            ChangeState(803)
        end
    end
}

--be throwed 2
M[803] = {
    onEnter = function(_ENV)
        MoveTypeSet(Enums.MoveType.H)
        PhysicsSet(Enums.PhysicsType.A)
        ChangeAnim(803)
        VelSet(-6, 2)
    end,
    onUpdate = function(_ENV)
        if JustOnGround() then
            ChangeState(5100)
        end
    end
}

return M
